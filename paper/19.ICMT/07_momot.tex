
As motivated in~\Sect{sec:example}, we apply domain-specific distance metrics to the problem of finding the minimal sequence of rule application from an initial model M1 to a target model M2. We follow previous work~\cite{KessentiniMWOD17,FadhelKLW12} and consider this problem as an optimization problem and use search-based techniques to solve it.

Having the evolution recovery problem at hand, we apply our search-based framework MOMoT~\cite{Fleck15,FleckTW16}, to find the Pareto-optimal model evolutions.
MOMoT\footnote{
    MOMoT: \url{http://martin-fleck.github.io/momot}
} is a task- and algorithm-agnostic approach that combines SBSE and MDE.
It has been developed in previous work~\cite{Fleck15} and builds upon Henshin\footnote{
    Henshin: \url{http://www.eclipse.org/henshin}
}~\cite{Arendt10} to define model transformations and the MOEA framework\footnote{
    MOEA Framework: \url{http://www.moeaframework.org}
} to provide optimization techniques.
In MOMoT, DSLs (\ie metamodels) are used to model the problem domain and create problem instances (\ie models), while model transformations are used to manipulate those instances.
The orchestration of those model transformations, \ie the order in which the transformation rules are applied and how those rules need to be configured, is derived by using different heuristic search algorithms which are guided by the effect the transformations have on the given objectives.
For instance, MOEA provides an implementation of NSGA II\es{cite}, a multi-objective genetic programming framework.
In order to apply MOMoT for the given problem, we need to specify the necessary input: two model versions, change operators defined as Henshin rules, and the objectives for the search.

We use four objectives for the search for operation sequences.
First, we want to minimize the length of the sequence of rules applied.
Then, we minimize the three move, element, and value distance metrics tailored for the DSL. By this, we substitute the classical difference metrics used in~\cite{KessentiniMWOD17,FadhelKLW12}. 

From \Sect{sec:adapt}, we understand that automatically adapting the distance metrics to the DSL is very challenging.
Therefore, we implemented the distance metrics as a Java library \texttt{EModelDistance} that computes the metrics on any Ecore model in the Eclipse Modeling Framework.
The library encapsulates all dependencies on the metamodel of the DSL within one abstract class \texttt{DistanceUtility}.
The developer must override the five sets $Pos,Mov,Mod,N,$ and $P$ for her DSL.
She must also define the \texttt{getId()} function for each class of the metamodel, if it does not already have an identity attribute.
The computation of the metrics is generated as Java classes that rely on the customized \texttt{DistanceUtility} class provided for that DSL. 

In the following section, we evaluate potential performance differences of using classical diff metrics such as provided by EMF compare vs. distance metrics introduced in this paper. 